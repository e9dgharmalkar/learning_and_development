{% extends "tasks/base.html" %}

{% block content %}
<div class="container-fluid">
  <div class="row" style="height: 100vh;">

    <!-- LHS menu bar -->
    <div class="col-md-3" style="background-color: rgb(240, 241, 244);">
      <div class="p-3">
        <h4>Menu</h4>
        <ul class="nav flex-column">
          <li class="nav-item"><a class="nav-link" href="{% url 'task_list' %}">Task List</a></li>
          <li class="nav-item"><a class="nav-link" href="{% url 'task_create' %}">Add Task</a></li>
        </ul>
      </div>
    </div>

    <!-- RHS main content -->
    <div class="col-md-9 bg-white">
      <div class="p-4">
        <h3>All Tasks</h3>
        <a class="btn btn-primary mb-3" href="{% url 'task_create' %}">+ Add New Task</a>

        {% for task in tasks %}
          <div class="card mb-3">
            <div class="card-body">
              <strong>{{ task.title }}</strong><br>
              {% if task.deadline %}
                — Due: {{ task.deadline }}<br>
              {% endif %}
              {% if task.completed %}
                ✅ Completed
              {% else %}
                ❌ Not Completed
              {% endif %}
              <br>
              <a href="{% url 'task_update' task.id %}">Edit</a> |
              <a href="{% url 'task_delete' task.id %}">Delete</a>
            </div>
          </div>
        {% empty %}
          <p>No tasks available.</p>
        {% endfor %}
      </div>
    </div>

  </div>
</div>
{% endblock %}
